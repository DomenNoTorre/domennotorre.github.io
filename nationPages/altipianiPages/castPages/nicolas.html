<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nicolas - Mindbound</title>
    <link rel="stylesheet" href="../../cast.css" type="text/css">
     <link rel="icon" type="image/x-icon" href="../../../img/favi.png">
</head>
<body>
    <main>
        <header> 
            <ul class="headerList">
                <li class="dropdown">
                    <a class="info" href="#">Info</a>
                    <ul class="dropdownMenu">
                        <li><a href="../../nations.html">Nations</a></li>
                        <li><a href="../../../index.html">Books</a></li>
                        <li><a href="../../../webpages/projects.html">Projects</a></li>
                    </ul>
                </li>
              <li class="searchBar">
                    <input type="text" id="searchInput" placeholder="Search..." />
                    <ul id="suggestions" class="suggestions"></ul>
                </li>
                <li><a class="aboutUs" href="../../../webpages/aboutUs.html">About Us</a></li>  
            </ul>
        </header>

        <h1 class="mainTitleWhite">Mindbound</h1>
        
        <img src="../altipianiImg/altipianiHeader.png" alt="headerImage" class="headerImg">

        <div class="middleBlock">

          <img src="../altipianiImg/bigNic.png" alt="castImage" class="sideCastImg">
            
          <h2 class="secondTitle">Nicolas Raffaelli</h2>

          <span class="creditList">

            <hr style="border: 0; border-top: 0.1rem solid white; width: 90%; margin: 0px auto;">

            <p>Headshot by: @Ur_Local_Potato_Kai</p>
            <p>Full body by: WIP</p>
            <p>Reference sheet by: WIP</p>
          
            <hr style="border: 0; border-top: 0.1rem solid white; width: 80%; margin: 0px auto;">

          </span>

          <p class="castText">
            If you need a detective that might be willing to break a few rules and travel around all of Altipiani 
            just to make sure your case won't end up as a cold one, Nicolas is your guy. He strives to resolve every single 
            case he gets to work on and give the people involved the best results. Outside of work he mostly keeps to himself, 
            you can often find him hanging out at his apartment and tinkering with his motorcycle or other tech he owns whenever 
            he's not working on another case. Though, he enjoys going out to drink with his colleagues as well after a long shift.
          </p>

          <a href="javascript:history.back()" class="backButton">&lt;Back</a>

          <img src="../altipianiImg/castFooterPlaceholder.png" alt="footerCastImage" class="footerCastImg">

        </div>

        <footer>
            <div class="footerContainer">
                <div class="footerText">
                    <a href="https://discord.gg/Aw5rpJ3DN6">
                        <img src="../../../img/dcLogo.png" alt="discordLogo" class="dcLogo">
                    </a>
                </div>
                <img src="../altipianiImg/altipianiFooter.png" alt="footerImage" class="footerImg">
            </div>
        </footer>
    </main>

<script src="../../../functions/searchMap.js"></script>

<script>
// ====================
// Scroll hide header
// ====================
const header = document.querySelector("header");
if (header) 
{
  let lastScrollY = window.scrollY;
  window.addEventListener("scroll", () => 
  {
    if (window.scrollY > lastScrollY) 
    {
      header.classList.add("hidden");
    } 
    
    else 
    {
      header.classList.remove("hidden");
    }
    lastScrollY = window.scrollY;
  });
}

// ====================
// Dropdown menu
// ====================
document.querySelectorAll('.dropdown > a').forEach(link => 
{
  link.addEventListener('click', e => 
  {
    e.preventDefault();
    const menu = link.nextElementSibling;
    if (menu) menu.classList.toggle('open');
  });
});

document.addEventListener('click', e => 
{
  document.querySelectorAll('.dropdownMenu.open').forEach(menu => 
  {
    if (!menu.parentElement.contains(e.target)) 
    {
      menu.classList.remove('open');
    }
  });
});

// ====================
// Search input
// ====================
searchInput.addEventListener("keydown", function(e) 
{
  if (e.key === "Enter") 
  {
    e.preventDefault();
    const query = this.value.toLowerCase().trim();

    if (searchMap[query]) 
    {
      window.location.href = searchMap[query];
    } 
    
    else 
    {
      alert("No results found for: " + query);
    }
  }
});

// ====================
// Search suggestions
// ====================

const input = document.getElementById('searchInput');
const suggestions = document.getElementById('suggestions');

input.addEventListener('input', () => 
{
    const value = input.value.toLowerCase();
    suggestions.innerHTML = '';
    if (value) 
    {
        const filtered = Object.keys(searchMap).filter(name => name.startsWith(value));
        filtered.forEach(name => 
        {
            const li = document.createElement('li');
            li.textContent = name;
            li.addEventListener('click', () => {
                window.location.href = searchMap[name];
            });
            suggestions.appendChild(li);
        });
    }
});
</script>
</body>
</html>